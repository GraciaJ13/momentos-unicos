{% extends "paginaprincipal.html" %}

{% block title %}Ver Proveedores{% endblock %}

{% block content %}
  <h2>Proveedores Disponibles</h2>
  
  <!-- Lista de Proveedores -->
  {% if proveedores %}
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Servicio</th>
          <th>Contacto</th>
          <th>Teléfono</th>
          <th>Email</th>
          <th>URL</th>
        </tr>
      </thead>
      <tbody>
        {% for proveedor in proveedores %}
        <tr>
          <td>{{ proveedor.id }}</td>
          <td>{{ proveedor.nombre }}</td>
          <td>{{ proveedor.servicio }}</td>
          <td>{{ proveedor.contacto }}</td>
          <td>{{ proveedor.telefono }}</td>
          <td>{{ proveedor.email }}</td>
          <td><a href="{{ proveedor.url }}" target="_blank">{{ proveedor.url }}</a></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p>No hay proveedores disponibles. Verifica la base de datos o añade uno.</p>
  {% endif %}
  {% if messages %}
    {% for message in messages %}
      <p>{{ message }}</p>
    {% endfor %}
  {% endif %}

  <!-- Formulario para añadir proveedor -->
  <h3>Añadir Nuevo Proveedor</h3>
  <form method="post" action="">
    {% csrf_token %}
    <label for="nombre">Nombre:</label><br>
    <input type="text" id="nombre" name="nombre" required><br>
    <label for="servicio">Servicio:</label><br>
    <input type="text" id="servicio" name="servicio" required><br>
    <label for="contacto">Contacto:</label><br>
    <input type="text" id="contacto" name="contacto" required><br>
    <label for="telefono">Teléfono:</label><br>
    <input type="text" id="telefono" name="telefono" required><br>
    <label for="email">Email:</label><br>
    <input type="email" id="email" name="email" required><br>
    <label for="url">URL:</label><br>
    <input type="url" id="url" name="url" required><br>
    <button type="submit">Añadir Proveedor</button>
  </form>

  <a href="{% url 'paginanovios' %}">Volver</a>
{% endblock %}